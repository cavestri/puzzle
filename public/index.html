<!doctype html>
<html lang="en-US">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link href="css/main.css" rel="stylesheet" type="text/css" />
  <title>Codenatic || puzzle battle</title>

</head>
<body>

<div id="container" class="clearfix">

  <div id="top">
    <h1 id="title">Puzzle</h1>
  </div>

  <div id="playersBoard" class="players-board" >
    <p class="players-label">Conected players</p>
    <ul id="connectedUsers" class="conected-users trans"></ul>
    <button id="puzzleBattle" class="battleBtn">Puzzle Battle</button>
  </div>

  <div id="board">
    <div id="end">
      <div id="result">Well done! What about the next?</div>
    </div>
    <div id="image"></div>
  </div>


  <div id="footer">&copy; Franco Cavestri | Images by <a href="unsplash.com">Unsplash</a></div>

</div>

<script src="js/jquery-2.1.1.min.js"></script>
<script src="js/socket.io.js"></script>
<script src="js/game.js"></script>

<script>

  document.addEventListener("DOMContentLoaded", function () {

    game.startGame();
    var socket = io.connect();

    $('#puzzleBattle').on('click', function () {

      var newUser = window.prompt('Enter your name : ');

      socket.emit('addUser', { user : newUser })

      socket.on('userConects', function (data) {

        console.log(data);

        $('#connectedUsers').empty();

        for (var i = 0; i < data.length; i++) {

          $('#connectedUsers').append('<li><p>' + data[i].user + '</p></li>');

        }

      });

      socket.on('noMoreUsers', function () {

        alert('No more users can be added')

      });

    });

  });

</script>

</body>
</html>